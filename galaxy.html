<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
		<title>动画：星系</title>
	</head>
	<body>
		<canvas id="canvasId" width="300" height="300"></canvas>
		<script type="text/javascript">
			
			var sun=new Image();
			var moon=new Image();
			var earth=new Image();
			function init(){
				 sun.src="img/sun.png";
				 moon.src="img/moon.png";
				 earth.src="img/earth.png";
				setInterval(draw,100);
			}
				function draw(){
					var ctx=document.getElementById("canvasId").getContext("2d");
					ctx.clearRect(0,0,300,300);
					ctx.fillStyle='rgba(0,0,0)';
					ctx.fillRect(0,0,300,300);
					ctx.save();
					ctx.drawImage(sun,75,75,150,150);
					ctx.strokeStyle='rgba(0,153,255,0.4)';
					ctx.beginPath();
					ctx.arc(150,150,100,0,Math.PI*2,false);
					ctx.stroke();
					ctx.closePath();
					
					ctx.save();
					ctx.translate(150,150);
					var time=new Date();
					ctx.rotate(((2*Math.PI)/60)*time.getSeconds()+((2*Math.PI)/60000)*time.getMilliseconds());
					ctx.translate(105,0);
					ctx.drawImage(earth,-12,-12);
					
					ctx.save();
					ctx.rotate(((2*Math.PI)/6)*time.getSeconds()+((2*Math.PI)/6000)*time.getMilliseconds());
					ctx.translate(0,25);
					ctx.drawImage(moon,-3.5,-3.5);
					ctx.restore();
					ctx.restore();
				}
					window.addEventListener("load",init,true);
		</script>
	</body>
</html>
